<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PMB UNPER - Faroj Ainurridlo</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: #f0f2f5;
      margin: 0;
      padding: 0;
    }
    table { background: #fff; border-collapse: collapse; }
    a { text-decoration: none; color: #007bff; }
    a:hover { color: #0056b3; }
    /* --- Style Formulir PMB --- */
    .container {
      max-width: 800px;
      margin: 20px auto;
      background: white;
      padding: 30px;
      border-radius: 12px;
      box-shadow: 0 5px 20px rgba(0,0,0,0.1);
    }
    h2 { text-align: center; color: #333; margin-bottom: 20px; }
    .form-step { display: none; }
    .form-step.active { display: block; animation: fadeIn 0.3s ease-in-out; }
    @keyframes fadeIn { from {opacity:0;} to {opacity:1;} }
    label { display: block; margin-top: 15px; font-weight: bold; color: #555; }
    input, select, textarea {
      width: 100%; padding: 10px; margin-top: 5px;
      border-radius: 6px; border: 1px solid #ccc; font-size: 14px;
    }
    input[type="radio"] { width: auto; margin-right: 5px; }
    input[type="file"] { padding: 3px; }
    textarea { resize: vertical; }
    .buttons { margin-top: 25px; display: flex; justify-content: space-between; }
    button {
      padding: 10px 25px; border: none; background-color: #007bff; color: white;
      border-radius: 6px; cursor: pointer; font-weight: bold; transition: 0.3s;
    }
    button:hover { background-color: #0056b3; }
    button:disabled { background-color: #ccc; cursor: not-allowed; }
    .checkbox-label { display: flex; align-items: center; margin-top: 15px; cursor: pointer; font-size: 15px; }
    .checkbox-label input { margin-right: 10px; width: 20px; height: 20px; }
    #verifikasiData { background: #e7f3ff; padding: 15px; border-radius: 8px; margin-bottom: 15px; max-height: 250px; overflow: auto; }
    .statement-box {
      border: 1px solid #007bff; border-radius: 8px; padding: 15px;
      background: #f0f8ff; margin-top: 20px; max-height: 200px; overflow: auto;
    }
    .progress-container { background: #ddd; border-radius: 8px; height: 10px; margin-bottom: 20px; overflow: hidden; }
    .progress-bar { height: 10px; width: 0%; background: #007bff; transition: 0.3s; }
  </style>
</head>
<body>

<table border="1" width="75%" align="center">
  <!--Header-->
  <tr>
    <td colspan="8" height="150px">
      <center>
        <img src="logounper.png" width="150px" height="150px" alt="">
        <h1>UNIVERSITAS PERJUANGAN TASIKMALAYA</h1>
      </center>
    </td>
  </tr>

  <!--Menu-->
  <tr align="center" height="50px">
    <td><a href="index_faroj.html">Home</a></td>
    <td><a href="struktur_faroj.html">Struktur Organisasi</a></td>
    <td><a href="visimisi_faroj.html">Visi dan Misi</a></td>
    <td><a href="fakultas_faroj.html">Fakultas</a></td>
    <td><a href="bem_faroj.html">BEM</a></td>
    <td><a href="ukm_faroj.html">UKM</a></td>
    <td><a href="pmb_faroj.html">PMB</a></td>
    <td><a href="hubungi_faroj.html">Hubungi Kami</a></td>
  </tr>

  <!--Sidebar + Konten-->
  <tr>
    <td colspan="2" valign="top">
      <a href="pmb_faroj.html">
        <img src="bannerpmb.jpg" width="150px" height="200px" alt="">
      </a><br>
      <a href="https://e-journal.unper.ac.id/index.php/informatics/">
        <img src="bannerjurnal.jpg" width="150px" height="200px" alt="">
      </a>
    </td>

    <!-- === ISI KONTEN: FORMULIR PMB === -->
    <td colspan="6" valign="top" width="100%">
      <div class="container">
        <h2>Formulir Penerimaan Mahasiswa Baru (PMB)</h2>

        <form id="pmbForm" action="pmb_faroj.php" method="POST" enctype="multipart/form-data">
          
          <!-- Step 1 -->
          <div class="form-step active">
            <h3>Data Pribadi</h3>
            <label>Nama Lengkap</label>
            <input type="text" name="nama_faroj" required pattern="[A-Za-z\s]+" placeholder="">

            <label>NIK</label>
            <input type="text" name="nik_faroj" required pattern="\d{16}" placeholder="16 digit angka" oninput="this.value=this.value.replace(/[^0-9]/g,'');">

            <label>Tempat Lahir</label>
            <input type="text" name="tempat_lahir_faroj" required>

            <label>Tanggal Lahir</label>
            <input type="date" name="tanggal_lahir_faroj" required>

            <label>Jenis Kelamin</label>
            <div>
              <input type="radio" name="jk_faroj" value="Laki-laki" required> Laki-laki
              <input type="radio" name="jk_faroj" value="Perempuan" required> Perempuan
            </div>

            <label>Agama</label>
            <select name="agama_faroj" required>
              <option value="">--Pilih Agama--</option>
              <option>Islam</option><option>Kristen</option><option>Katolik</option>
              <option>Hindu</option><option>Buddha</option><option>Konghucu</option>
            </select>

            <label>Alamat Lengkap</label>
            <textarea name="alamat_faroj" required></textarea>

            <label>Nomor HP</label>
            <input type="tel" name="hp_faroj" required pattern="\d{10,15}" placeholder="081234567890">

            <label>Email</label>
            <input type="email" name="email_faroj" required>

            <label>Status Pernikahan</label>
            <select name="status_faroj" required>
              <option value="">--Pilih Status--</option>
              <option>Belum Menikah</option><option>Menikah</option><option>Cerai</option>
            </select>

            <div class="buttons" style="justify-content:end;">
              <button type="button" id="next1">Selanjutnya</button>
            </div>
          </div>

          <!-- Step 2 -->
          <div class="form-step">
            <h3>Data Sekolah Asal</h3>

            <label>Nama Sekolah Asal</label>
            <input type="text" name="sekolah_faroj" required>

            <label>Jurusan di Sekolah</label>
            <select name="jurusan_faroj" id="jurusan_faroj" required>
              <option value="">--Pilih Jurusan--</option>
              <option>IPA</option><option>IPS</option><option>Bahasa</option><option>SMK</option>
            </select>

            <div id="smkJurusanBox" style="display:none;">
              <label>Nama Jurusan SMK</label>
              <input type="text" name="nama_jurusan_smk_faroj" placeholder="Contoh: Teknik Komputer dan Jaringan">
            </div>

            <label>Tahun Lulus</label>
            <input type="number" name="tahun_lulus_faroj" required pattern="\d{4}" placeholder="4 digit">

            <label>NISN</label>
            <input type="text" name="nisn_faroj" required pattern="\d{10}" placeholder="10 digit angka" oninput="this.value=this.value.replace(/[^0-9]/g,'');">

            <div class="buttons">
              <button type="button" id="prev1">Kembali</button>
              <button type="button" id="next2">Selanjutnya</button>
            </div>
          </div>

          <!-- Step 3 -->
          <div class="form-step">
            <h3>Pilihan Program Studi</h3>

            <label>Pilihan 1 Program Studi</label>
            <select name="prodi1_faroj" id="prodi1_faroj" required>
              <option value="">--Pilih Program Studi--</option>
              <option>Teknik Informatika</option><option>Sistem Informasi</option>
              <option>Manajemen</option><option>Hukum</option>
              <option>Akuntansi</option><option>Psikologi</option>
            </select>

            <label>Pilihan 2 Program Studi (Opsional)</label>
            <select name="prodi2_faroj" id="prodi2_faroj">
              <option value="">--Pilih Program Studi (Opsional)--</option>
              <option>Teknik Informatika</option><option>Sistem Informasi</option>
              <option>Manajemen</option><option>Hukum</option>
              <option>Akuntansi</option><option>Psikologi</option>
            </select>

            <label>Jalur Pendaftaran</label>
            <div>
              <input type="radio" name="jalur_faroj" value="Reguler" required> Reguler
              <input type="radio" name="jalur_faroj" value="Prestasi" required> Prestasi
              <input type="radio" name="jalur_faroj" value="Afirmasi" required> Afirmasi
            </div>

            <div class="buttons">
              <button type="button" id="prev2">Kembali</button>
              <button type="button" id="next3">Selanjutnya</button>
            </div>
          </div>

          <!-- Step 4 -->
          <div class="form-step">
            <h3>Dokumen Pendukung</h3>

            <label>Scan Ijazah/Surat Keterangan Lulus</label>
            <input type="file" name="ijazah_faroj" accept=".pdf,.jpg" required>

            <label>Scan KTP/KK</label>
            <input type="file" name="ktp_faroj" accept=".pdf,.jpg" required>

            <label>Pas Foto Resmi</label>
            <input type="file" name="foto_faroj" accept=".jpg,.png" required>

            <div class="buttons">
              <button type="button" id="prev3">Kembali</button>
              <button type="button" id="next4">Selanjutnya</button>
            </div>
          </div>

          <!-- Step 5 -->
          <div class="form-step">
            <h3>Pernyataan & Persetujuan</h3>

            <div class="statement-box">
              <p>Saya menyatakan bahwa semua data yang saya isikan dalam formulir PMB adalah benar, lengkap, dan dapat dipertanggungjawabkan.</p>
              <p>Saya juga menyetujui bahwa data saya akan disimpan oleh pihak universitas sesuai ketentuan privasi dan digunakan untuk keperluan administrasi penerimaan mahasiswa baru.</p>
            </div>

            <label class="checkbox-label">
              <input type="checkbox" name="persetujuan_faroj" id="persetujuan_faroj" required>
              Saya telah membaca dan menyetujui pernyataan di atas.
            </label>

            <div class="buttons">
              <button type="button" id="prev4">Kembali</button>
              <button type="submit">Kirim Data</button>
            </div>
          </div>
        </form>
      </div>
    </td>
  </tr>

  <!--footer-->
  <tr>
    <td colspan="8" height="50px"><center><p>Copyright 2025 &#169; Faroj Ainurridlo</p></center></td>
  </tr>
</table>

<script>
  const steps=document.querySelectorAll(".form-step");
  let currentStep=0;
  const progressBar=document.getElementById("progressBar");
  const showStep=(i)=>{steps.forEach((s,x)=>s.classList.toggle("active",x===i));progressBar.style.width=((i+1)/steps.length*100)+"%";};
  const validateStep=(s)=>{for(let i of s.querySelectorAll("input,select,textarea")){if(!i.checkValidity()){i.reportValidity();return false;}}return true;};
  const next=(n)=>{if(validateStep(steps[currentStep])){currentStep+=n;showStep(currentStep);}};
  const prev=(n)=>{currentStep+=n;showStep(currentStep);};

  document.getElementById("next1").onclick=()=>next(1);
  document.getElementById("next2").onclick=()=>next(1);
  document.getElementById("next3").onclick=()=>next(1);
  document.getElementById("next4").onclick=()=>{if(validateStep(steps[currentStep])){currentStep++;showStep(currentStep);showSummary();}};
  document.getElementById("prev1").onclick=()=>prev(-1);
  document.getElementById("prev2").onclick=()=>prev(-1);
  document.getElementById("prev3").onclick=()=>prev(-1);
  document.getElementById("prev4").onclick=()=>prev(-1);

  // Jurusan SMK muncul hanya jika pilih SMK
  const jurusanSelect=document.getElementById("jurusan_faroj");
  const smkBox=document.getElementById("smkJurusanBox");
  jurusanSelect.addEventListener("change",()=>{
    if(jurusanSelect.value==="SMK"){
      smkBox.style.display="block";
      smkBox.querySelector("input").required=true;
    } else {
      smkBox.style.display="none";
      smkBox.querySelector("input").required=false;
      smkBox.querySelector("input").value="";
    }
  });

  // Cegah duplikasi prodi
  const prodi1=document.getElementById("prodi1_faroj");
  const prodi2=document.getElementById("prodi2_faroj");
  function updateProdi2Options(){
    const selected=prodi1.value;
    for(let opt of prodi2.options) opt.disabled=false;
    if(selected!==""){
      for(let opt of prodi2.options){
        if(opt.value===selected && opt.value!=="") opt.disabled=true;
      }
      if(prodi2.value===selected) prodi2.value="";
    }
  }
  prodi1.addEventListener("change",updateProdi2Options);


</script>

</body>
</html>
